<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!--DOCTYPE MAN SYSTEM "../../manrev.dtd"-->
<?xml-stylesheet type="text/xsl" href="scilab_rev.xsl"?>
<MAN>
  <LANGUAGE>eng</LANGUAGE>
  <TITLE> lens_fresnel  </TITLE>
  <TYPE>Scilab Function  </TYPE>
  <DATE> May, 2006 </DATE>
  <SHORT_DESCRIPTION name="lens_fresnel"> propagates the field in spherical coordinates system. </SHORT_DESCRIPTION>
  <CALLING_SEQUENCE>
  <CALLING_SEQUENCE_ITEM>[field_out]=lens_fresnel(field_in, f, z)  </CALLING_SEQUENCE_ITEM>
  </CALLING_SEQUENCE>
  <PARAM>
 <PARAM_INDENT>
  <PARAM_ITEM>
  <PARAM_NAME>field_in  </PARAM_NAME>
  <PARAM_DESCRIPTION>
          <SP>: a pointer, the size of the pointer equal to the structure FIELD. must be diffractive wavefront.</SP>
  </PARAM_DESCRIPTION> 
  </PARAM_ITEM>
  <PARAM_ITEM>
  <PARAM_NAME>f  </PARAM_NAME>
  <PARAM_DESCRIPTION>
          <SP>: the focal length of the input lens. </SP>
  </PARAM_DESCRIPTION> 
  </PARAM_ITEM>
  <PARAM_ITEM>
  <PARAM_NAME>z </PARAM_NAME>
  <PARAM_DESCRIPTION>
          <SP>: the distance to propagate in meters. </SP>
  </PARAM_DESCRIPTION> 
  </PARAM_ITEM>
  <PARAM_ITEM>
  <PARAM_NAME>field_out  </PARAM_NAME>
  <PARAM_DESCRIPTION>
          <SP>: a pointer, the size of the pointer equal to the structure FIELD.</SP>
  </PARAM_DESCRIPTION> 
  </PARAM_ITEM>
 </PARAM_INDENT>
  </PARAM>
  <DESCRIPTION>
  <P>
	The principle of beam propagation in the ''fixed'' and ''floating'' coordinate 
	systems (for the case of a lens waveguide) are shown in below figure: 
  </P>
  <IMG src="coordinates.gif"/>
  <P>
	The spherical coordinates follow the geometrical section of the divergent or 
	convergent light beam. Propagation in spherical coordinates is implemented 
	with programs <VERB>lens_forvard</VERB> and <VERB>lens_fresn</VERB>. Both filters accept two parameters: 
	the focal distance of the lens placed in the input of the propagation distance, 
	and the distance of propagation. When lens_forvard or lens_fresn is called, 
	it ''bends'' the coordinate system so that it follows the divergent or convergent 
	spherical wavefront, and then propagates the field to the distance Z in the 
	transformed coordinates. Filter <VERB></VERB>convert should be used to convert the field 
	back to the rectangular coordinate system. Some SAO functions can not be 
	applied to the field in spherical coordinates. 
  </P>
  <P>
	As the coordinates follow the geometrical section of the light beam, 
	operator <VERB>lens_forvard</VERB>(f,10,10) will produce floating exception because the 
	calculations just can not be conducted in a grid with zero size 
	(that is so in the geometrical approximation of a focal point). On the other 
	hand, diffraction to the focus is equivalent to the diffraction to the far 
	field (infinity), thus FFT convolution algorithm will not work properly anyway. 
	To model the diffraction into the focal point, a more complicated trick should 
	be used:(see the below example) 
  </P>
  <P>
	Here we calculate the diffraction to the focus of a lens with a focal distance 
	of 1m. It is represented as a combination of a weak phase mask lens 10 and 
	a ''strong'' geometrical coordinate transform lens_fresn 1.111111 1. 
	The grid after propagation is  10 times narrower than in the input plane. 
	The focal intensity is 650 times higher than the input intensity and the 
	wavefront is plain as expected.  
  </P>
  <P>
	Diffraction behind the beam waist is more tricky: it can be done with 
	<VERB>lens_forvard</VERB> but will not work with <VERB>lens_fresn</VERB> .
  </P>
  </DESCRIPTION>
  <EXAMPLE><![CDATA[
	f1=begin(0.01,1e-6);
	f2=rect_ap(f1,0.005);
	f3=lens(f2,10);
	f4=lens_fresnel(f3,1.111111,1);
	f5=convert(f4);
	field_plot(f5);
 ]]></EXAMPLE>
  <AUTHOR> 
    <AUTHORS_ITEM>  Chen jingyuan,  </AUTHORS_ITEM>
    <AUTHORS_ITEM>  Gan guangyong (IAPCM, Beijing,China.)  </AUTHORS_ITEM>
  </AUTHOR>
  <SEE_ALSO>
    <SEE_ALSO_ITEM><LINK PATH="./">lens</LINK></SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM> <LINK PATH="./">convert</LINK> </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM> <LINK PATH="./">fresnel</LINK> </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM> <LINK PATH="./">lens_forvard</LINK> </SEE_ALSO_ITEM>
  </SEE_ALSO>
</MAN>
